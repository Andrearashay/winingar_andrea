---
title: "HW 08: More Data Wrangling"
author: "Andrea WIningar"
date: "`r format(Sys.time(), '%d %B %Y')`"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

- Change "your name" in the YAML header above to your name.

- As usual, enter the examples in code chunks and run them, unless told otherwise.

## Chapter 5: Data transformation

Read [R4ds Chapter 5: Data transformation](https://r4ds.had.co.nz/transform.html), sections 5-7.

**You do not answer any of the questions this week.** Just read and run all of the examples as noted below. Pay attention to the code you enter for the examples. You will be applying the information in future assignments.

### Section 5.5: Add new variables with `mutate()`

Type and run all of the examples.

Pay careful attention to the useful creation functions in section 5.5.1. 

This code chunk loads flights data, and tidyverse.

```{r}
library(nycflights13)
library(tidyverse)
```


This code chunk creates a narower dataset to use in the next code chunk.

```{r}
flights_sml <- select(flights, 
  year:day, 
  ends_with("delay"), 
  distance, 
  air_time
)
```

This code chunk uses mutate() to add new columns at the end of the dataset.

```{r}
mutate(flights_sml,
  gain = dep_delay - arr_delay,
  speed = distance / air_time * 60
)
```

This code chunk shows you can refer to the columns just created in chunk before.

```{r}
mutate(flights_sml,
  gain = dep_delay - arr_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)
```

This code chunk uses transmute() to keep only the new variables.

```{r}
transmute(flights,
  gain = dep_delay - arr_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)
```

This code chunk shows how to compute hour and minute from dep_time.

```{r}
transmute(flights,
  dep_time,
  hour = dep_time %/% 100,
  minute = dep_time %% 100
)
```

This code chunk shows examples of lead() and lag()

```{r}
(x <- 1:10)
lag(x)
lead(x)
```

This code chunk shows how to use cumsum() and cummean()

```{r}
x
cumsum(x)
cummean(x)
```

This code chunk shows how to use min_rank().

```{r}
y <- c(1, 2, 2, NA, 3, 4)
min_rank(y)
min_rank(desc(y))
```

This code chunk shows how to use row_number(), dense_rank(), percent_rank(), cume_dist().

```{r}
row_number(y)
dense_rank(y)
percent_rank(y)
cume_dist(y)
```

### Section 5.6: Grouped summaries with `summarise()`

Read and run all of the examples. Pay careful attention to the useful summary functions. Unless you really like baseball, skip the baseball part of 5.6.3.

### Section 5.7: Grouped mutates (and filters)

Read and run all of the examples.